{% extends "admin/base.html" %}

{% block extrahead %}
<link
    href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Permanent+Marker&family=Roboto:wght@400;700&display=swap"
    rel="stylesheet">
<link href="https://api.fontshare.com/v2/css?f[]=satoshi@900,700,500,400&display=swap" rel="stylesheet">

<style>
    :root {
        --primary: #ffd700;
        --secondary: #111;
        --accent: #ffd700;
        --primary-fg: #000;
        --body-fg: #ffffff;
        --body-bg: #111111;
        --header-bg: #000000;
        --header-color: #ffd700;
        --module-bg: #1a1a1a;
        --border: #333;
        --button-bg: #ffd700;
        --button-fg: #000000;
        --link-fg: #ffd700;
        --link-hover-color: #ffffff;
        --object-tools-bg: #333;
        --object-tools-fg: #fff;
    }

    body {
        font-family: 'Roboto', sans-serif;
        background-color: var(--body-bg) !important;
        color: var(--body-fg) !important;
    }

    #header {
        background: var(--header-bg) !important;
        border-bottom: 2px solid var(--primary);
    }

    #branding h1 {
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        font-size: 2rem !important;
        color: var(--primary) !important;
        letter-spacing: 2px;
    }

    #branding h1 a {
        color: var(--primary) !important;
    }

    div.breadcrumbs {
        background: rgba(255, 255, 255, 0.02) !important;
        color: #888 !important;
        padding: 10px 40px !important;
        border-bottom: 1px solid #222 !important;
        font-size: 0.8rem;
    }

    div.breadcrumbs a {
        color: var(--primary) !important;
        text-decoration: none;
        font-weight: bold;
    }

    .module caption,
    .module h2 {
        background: #252525 !important;
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        color: #fff !important;
        letter-spacing: 1px;
        padding: 12px 15px !important;
        border-bottom: 1px solid #333 !important;
    }

    a.section:link,
    a.section:visited {
        color: var(--primary) !important;
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        font-size: 1.2rem;
    }

    .button,
    input[type=submit],
    input[type=button],
    .submit-row input,
    a.button {
        background: var(--primary) !important;
        color: #000 !important;
        font-weight: bold !important;
        text-transform: uppercase;
        border: none !important;
        transition: transform 0.1s;
    }

    .button:hover,
    input[type=submit]:hover {
        background: #fff !important;
        transform: scale(1.05);
    }

    .module {
        border: 1px solid #333 !important;
        background: var(--module-bg) !important;
    }

    /* Form rows */
    .form-row {
        border-bottom: 1px solid #333 !important;
    }

    label {
        color: #ccc !important;
    }

    /* Change list table */
    #changelist table {
        background: var(--module-bg);
        color: #fff;
    }

    #changelist table thead th {
        background: #000 !important;
        color: var(--primary) !important;
        font-family: 'Poster', 'Bebas Neue', sans-serif;
        font-size: 1.1rem;
    }

    #changelist table tbody tr {
        background: transparent !important;
        border-bottom: 1px solid #333;
    }

    #changelist table tbody tr:hover {
        background: #222 !important;
    }

    #changelist table tbody td a {
        color: #fff !important;
    }

    /* Dashboard specific */
    .dashboard .module table th {
        width: 100%;
    }

    /* Login Page */
    .login #header {
        background: #000 !important;
    }

    .login .submit-row input {
        background: var(--primary) !important;
        color: #000 !important;
    }

    /* Layout Containers */
    #content {
        padding: 30px 40px !important;
    }

    .dashboard #content {
        max-width: 1400px;
        margin: 0 auto;
    }


    /* User Tools (Top Right) */
    #user-tools {
        color: #fff !important;
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        font-size: 1.1rem;
        letter-spacing: 1px;
        margin-top: 0;
    }

    #user-tools a {
        color: var(--primary) !important;
        text-decoration: none;
        border-bottom: 2px solid transparent;
        transition: all 0.2s;
        margin: 0 5px;
    }

    #user-tools a:hover {
        color: #fff !important;
        border-bottom: 2px solid var(--primary);
    }

    #user-tools strong {
        color: #fff;
        margin-right: 10px;
    }

    /* Page Titles ("Site administration") */
    #content h1 {
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        font-size: 2rem !important;
        color: var(--primary) !important;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    /* Dashboard Modules */
    .dashboard .module table caption {
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        font-size: 1.5rem !important;
        background: transparent !important;
        color: var(--primary) !important;
        padding-left: 0;
        text-align: left;
        margin-bottom: 10px;
    }

    .dashboard .module {
        background: transparent !important;
        border: none !important;
        margin-bottom: 30px;
    }

    .dashboard .module table {
        border-collapse: separate;
        border-spacing: 0 5px;
        /* Spacing between rows */
    }

    .dashboard .module tr {
        background: #1a1a1a !important;
        transition: all 0.2s ease;
    }

    .dashboard .module tr:hover {
        background: #222 !important;
        transform: scale(1.01);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        z-index: 10;
        position: relative;
    }

    .dashboard .module td,
    .dashboard .module th {
        border: none !important;
        padding: 15px !important;
    }

    .dashboard .module a {
        font-weight: bold;
        letter-spacing: 0.5px;
    }

    /* Add/Change Links */
    .dashboard .module .addlink,
    .dashboard .module .changelink {
        color: #888 !important;
        text-transform: uppercase;
        font-size: 0.8rem;
        padding-left: 20px;
    }

    .dashboard .module .addlink:hover,
    .dashboard .module .changelink:hover {
        color: var(--primary) !important;
    }

    /* Sidebar (Recent Actions) */
    #content-related {
        background: #1a1a1a !important;
        border: 1px solid #333;
        border-radius: 8px;
        margin-right: 0;
    }

    #content-related h3 {
        font-family: 'Poster', 'Bebas Neue', sans-serif !important;
        color: #000 !important;
        background: var(--primary) !important;
        padding: 10px 15px !important;
        margin: 0 !important;
        font-size: 1.2rem !important;
    }

    #content-related .actionlist {
        padding: 15px;
    }

    #content-related .actionlist li {
        margin-bottom: 15px;
        border-bottom: 1px solid #333;
        padding-bottom: 10px;
    }

    /* Action Icons */
    .addlink,
    .changelink,
    .deletelink {
        padding-left: 0 !important;
        background: none !important;
    }

    .actionlist .addlink::before {
        content: "+ ";
        color: #4caf50;
        font-weight: bold;
    }

    .actionlist .changelink::before {
        content: "✎ ";
        color: var(--primary);
        font-weight: bold;
    }

    .actionlist .deletelink::before {
        content: "✕ ";
        color: #f44336;
        font-weight: bold;
    }

    /* Mobile Responsive Optimizations */
    @media (max-width: 768px) {
        #header {
            display: flex !important;
            flex-direction: column !important;
            padding: 15px 10px !important;
            text-align: center;
            height: auto !important;
            gap: 10px;
        }

        #branding {
            margin: 0 !important;
        }

        #branding h1 {
            font-size: 1.5rem !important;
            margin: 0 !important;
        }

        #user-tools {
            position: static !important;
            display: flex;
            flex-direction: row !important;
            /* Force horizontal */
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 5px;
            padding: 8px 0 !important;
            margin: 0 !important;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.75rem !important;
            color: #ccc !important;
            text-transform: uppercase;
        }

        #user-tools a,
        #user-tools form {
            margin: 0 !important;
            white-space: nowrap;
        }

        #user-tools strong {
            margin-right: 5px;
            color: var(--primary) !important;
        }

        #notif-toggle {
            margin: 5px auto !important;
            display: flex !important;
        }

        /* Stop forced centering on list pages */
        #content {
            padding: 15px 10px !important;
            max-width: 100% !important;
            margin: 0 !important;
        }

        .dashboard #content {
            margin: 0 auto !important;
        }

        /* Sidebar behavior - hide or stack better */
        #content-related {
            display: none;
            width: 100% !important;
            float: none !important;
            margin-top: 20px;
        }

        #changelist {
            width: 100% !important;
        }

        /* Essential fix for "sliding" the table */
        #changelist .results {
            overflow-x: auto !important;
            -webkit-overflow-scrolling: touch;
            width: 100%;
        }

        #changelist table {
            width: 100% !important;
            min-width: 600px;
            /* Force minimum width to enable scrolling */
        }

        /* Breadcrumbs usually waste space on mobile */
        div.breadcrumbs {
            display: none !important;
        }
    }
</style>
<link rel="stylesheet" href="/static/css/admin_custom.css">
<script src="/static/js/admin_notifications.js"></script>
{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">SMOKY BITES POS</a></h1>
{% endblock %}

{% block usertools %}
<div id="user-tools">
    WELCOME, <strong>{{ user.get_username|upper }}</strong>
    <a href="/">VIEW SITE</a> /
    <a href="{% url 'admin:password_change' %}">PASSWORD</a> /
    <form action="{% url 'admin:logout' %}" method="post" style="display:inline;">
        {% csrf_token %}
        <button type="submit"
            style="background:none; border:none; color:var(--primary); font-family:inherit; font-size:inherit; cursor:pointer; padding:0; margin:0 5px; text-transform:uppercase;">LOGOUT</button>
    </form>
</div>
{% endblock %}

{% block nav-global %}{% endblock %}